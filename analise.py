# -*- coding: utf-8 -*-
"""Analise.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1tRC92dssPdNIDszcvcwLqHi-edahdMLW

# Desafio: 

Voc√™ trabalha em uma grande empresa de Cart√£o de Cr√©dito e o diretor da empresa percebeu que o n√∫mero de clientes que cancelam seus cart√µes tem aumentado significativamente, causando preju√≠zos enormes para a empresa

O que fazer para evitar isso? Como saber as pessoas que t√™m maior tend√™ncia a cancelar o cart√£o?

Refer√™ncia: https://www.kaggle.com/sakshigoyal7/credit-card-customers
"""

import pandas as pd

tabela = pd.read_csv("/content/drive/MyDrive/Minicurso AnaÃÅlise de Dados/ClientesBanco.csv", encoding="latin1")
tabela = tabela.drop("CLIENTNUM", axis=1)
display(tabela)

"""# Tratando valores vazios e exibindo um resumo das colunas da base de dados"""

tabela = tabela.dropna()
display(tabela.info())
display(tabela.describe())

"""# Divis√£o entre Clientes X Cancelados"""

qtde_categoria = tabela["Categoria"].value_counts()
display(qtde_categoria)
print()
qtde_categoria_percentual = tabela["Categoria"].value_counts(normalize=True).round(1)
display(qtde_categoria_percentual)

"""# Cria√ß√£o de gr√°ficos/An√°lise gr√°fica"""

import plotly.express as px
for coluna in tabela:
  grafico = px.histogram(tabela, x=coluna, color="Categoria")
  grafico.show()

"""# Informa√ß√µes da an√°lise üëÄ
- Quanto mais produtos contratados um cliente tem, menor a chance de cancelamento;
- Quanto mais transa√ß√µes e maior valor de transa√ß√£o, menor a chance de cancelamento;
- Quanto maior a quantidade de contatos que o cliente teve que fazer, maior a chance de cancelamento. ***Entrou em contato 6 vezes = cancelou.***

# Extra - Gr√°fico de pizza
"""

g2 = px.pie(tabela, values="Idade", names="Dependentes", title="An√°lise teste")
g2.show()